<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TMotorCANControl package &mdash; TMotorCANControl 1.2.3 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="src" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> TMotorCANControl
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">home</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">src</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">TMotorCANControl package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tmotorcancontrol-mit-can-module">TMotorCANControl.mit_can module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tmotorcancontrol-servo-can-module">TMotorCANControl.servo_can module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tmotorcancontrol-servo-serial-module">TMotorCANControl.servo_serial module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TMotorCANControl</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">src</a></li>
      <li class="breadcrumb-item active">TMotorCANControl package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/TMotorCANControl.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="tmotorcancontrol-package">
<h1>TMotorCANControl package<a class="headerlink" href="#tmotorcancontrol-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="tmotorcancontrol-mit-can-module">
<h2>TMotorCANControl.mit_can module<a class="headerlink" href="#tmotorcancontrol-mit-can-module" title="Permalink to this headline">¶</a></h2>
<p>A module for controlling the motor in MIT mode over the CAN bus.</p>
<span class="target" id="module-TMotorCANControl.mit_can"></span><dl class="class">
<dt id="TMotorCANControl.mit_can.CAN_Manager">
<em class="property">class </em><code class="descclassname">TMotorCANControl.mit_can.</code><code class="descname">CAN_Manager</code><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to manage the low level CAN communication protocols</p>
<dl class="method">
<dt id="TMotorCANControl.mit_can.CAN_Manager.MIT_controller">
<code class="descname">MIT_controller</code><span class="sig-paren">(</span><em>motor_id</em>, <em>motor_type</em>, <em>position</em>, <em>velocity</em>, <em>Kp</em>, <em>Kd</em>, <em>I</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager.MIT_controller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.MIT_controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an MIT style control signal to the motor. This signal will be used to generate a
current for the field-oriented controller on the motor control chip, given by this expression:</p>
<blockquote>
<div>q_control = Kp*(position - current_position) + Kd*(velocity - current_velocity) + I</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>motor_id</strong> – The CAN ID of the motor to send the message to</li>
<li><strong>motor_type</strong> – A string noting the type of motor, ie ‘AK80-9’</li>
<li><strong>position</strong> – The desired position in rad</li>
<li><strong>velocity</strong> – The desired velocity in rad/s</li>
<li><strong>Kp</strong> – The position gain</li>
<li><strong>Kd</strong> – The velocity gain</li>
<li><strong>I</strong> – The additional current</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.CAN_Manager.__del__">
<code class="descname">__del__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager.__del__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.__del__" title="Permalink to this definition">¶</a></dt>
<dd><p># shut down the CAN bus when the object is deleted
# This may not ever get called, so keep a reference and explicitly delete if this is important.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.CAN_Manager.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>ALl initialization happens in __new__</p>
</dd></dl>

<dl class="staticmethod">
<dt id="TMotorCANControl.mit_can.CAN_Manager.__new__">
<em class="property">static </em><code class="descname">__new__</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager.__new__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.__new__" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a singleton object to manage a socketcan_native CAN bus.</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.CAN_Manager.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.CAN_Manager._instance">
<code class="descname">_instance</code><em class="property"> = None</em><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager._instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to keep track of one instantation of the class to make a singleton object</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.CAN_Manager.add_motor">
<code class="descname">add_motor</code><span class="sig-paren">(</span><em>motor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager.add_motor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.add_motor" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe a motor object to the CAN bus to be updated upon message reception</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>motor</strong> – The TMotorManager object to be subscribed to the notifier</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.CAN_Manager.debug">
<code class="descname">debug</code><em class="property"> = False</em><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to true to display every message sent and recieved for debugging.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="TMotorCANControl.mit_can.CAN_Manager.float_to_uint">
<em class="property">static </em><code class="descname">float_to_uint</code><span class="sig-paren">(</span><em>x</em>, <em>x_min</em>, <em>x_max</em>, <em>num_bits</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager.float_to_uint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.float_to_uint" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates a floating point number to an unsigned integer of num_bits length.
A number of x_max will be the largest integer of num_bits, and x_min would be 0.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> – The floating point number to convert</li>
<li><strong>x_min</strong> – The minimum value for the floating point number</li>
<li><strong>x_max</strong> – The maximum value for the floating point number</li>
<li><strong>num_bits</strong> – The number of bits for the unsigned integer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="TMotorCANControl.mit_can.CAN_Manager.limit_value">
<em class="property">static </em><code class="descname">limit_value</code><span class="sig-paren">(</span><em>value</em>, <em>min</em>, <em>max</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager.limit_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.limit_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Limits value to be between min and max</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> – The value to be limited.</li>
<li><strong>min</strong> – The lowest number allowed (inclusive) for value</li>
<li><strong>max</strong> – The highest number allowed (inclusive) for value</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.CAN_Manager.parse_MIT_message">
<code class="descname">parse_MIT_message</code><span class="sig-paren">(</span><em>data</em>, <em>motor_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager.parse_MIT_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.parse_MIT_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a RAW MIT message and formats it into readable floating point numbers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – the bytes of data from a python-can message object to be parsed</li>
<li><strong>motor_type</strong> – A string noting the type of motor, ie ‘AK80-9’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>An MIT_Motor_State namedtuple that contains floating point values for the
position, velocity, current, temperature, and error in rad, rad/s, amps, and <a href="#id1"><span class="problematic" id="id2">*</span></a>C.
0 means no error.</p>
<p>Notably, the current is converted to amps from the reported
‘torque’ value, which is i*Kt. This allows control based on actual q-axis current,
rather than estimated torque, which doesn’t account for friction losses.</p>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.CAN_Manager.power_off">
<code class="descname">power_off</code><span class="sig-paren">(</span><em>motor_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager.power_off"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.power_off" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the power off code to motor_id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>motor_id</strong> – The CAN ID of the motor to send the message to.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.CAN_Manager.power_on">
<code class="descname">power_on</code><span class="sig-paren">(</span><em>motor_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager.power_on"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.power_on" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the power on code to motor_id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>motor_id</strong> – The CAN ID of the motor to send the message to.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.CAN_Manager.send_MIT_message">
<code class="descname">send_MIT_message</code><span class="sig-paren">(</span><em>motor_id</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager.send_MIT_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.send_MIT_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an MIT Mode message to the motor, with a header of motor_id and data array of data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>motor_id</strong> – The CAN ID of the motor to send to.</li>
<li><strong>data</strong> – An array of integers or bytes of data to send.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="TMotorCANControl.mit_can.CAN_Manager.uint_to_float">
<em class="property">static </em><code class="descname">uint_to_float</code><span class="sig-paren">(</span><em>x</em>, <em>x_min</em>, <em>x_max</em>, <em>num_bits</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager.uint_to_float"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.uint_to_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates an unsigned integer of num_bits length to a floating point number between x_min and x_max.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> – The floating point number to convert</li>
<li><strong>x_min</strong> – The minimum value for the floating point number</li>
<li><strong>x_max</strong> – The maximum value for the floating point number</li>
<li><strong>num_bits</strong> – The number of bits for the unsigned integer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.CAN_Manager.zero">
<code class="descname">zero</code><span class="sig-paren">(</span><em>motor_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#CAN_Manager.zero"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.CAN_Manager.zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the zeroing code to motor_id. This code will shut off communication with the motor for about a second.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>motor_id</strong> – The CAN ID of the motor to send the message to.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="TMotorCANControl.mit_can.MIT_Params">
<code class="descclassname">TMotorCANControl.mit_can.</code><code class="descname">MIT_Params</code><em class="property"> = {'AK10-9': {'Current_Factor': 0.59, 'GEAR_RATIO': 9.0, 'Kd_max': 5.0, 'Kd_min': 0.0, 'Kp_max': 500.0, 'Kp_min': 0.0, 'Kt_TMotor': 0.16, 'Kt_actual': 0.206, 'P_max': 12.5, 'P_min': -12.5, 'T_max': 65.0, 'T_min': -65.0, 'Use_derived_torque_constants': False, 'V_max': 50.0, 'V_min': -50.0}, 'AK60-6': {'Current_Factor': 0.59, 'GEAR_RATIO': 6.0, 'Kd_max': 5.0, 'Kd_min': 0.0, 'Kp_max': 500.0, 'Kp_min': 0.0, 'Kt_TMotor': 0.068, 'Kt_actual': 0.087, 'P_max': 12.5, 'P_min': -12.5, 'T_max': 15.0, 'T_min': -15.0, 'Use_derived_torque_constants': False, 'V_max': 50.0, 'V_min': -50.0}, 'AK70-10': {'Current_Factor': 0.59, 'GEAR_RATIO': 10.0, 'Kd_max': 5.0, 'Kd_min': 0.0, 'Kp_max': 500.0, 'Kp_min': 0.0, 'Kt_TMotor': 0.095, 'Kt_actual': 0.122, 'P_max': 12.5, 'P_min': -12.5, 'T_max': 25.0, 'T_min': -25.0, 'Use_derived_torque_constants': False, 'V_max': 50.0, 'V_min': -50.0}, 'AK80-6': {'Current_Factor': 0.59, 'GEAR_RATIO': 6.0, 'Kd_max': 5.0, 'Kd_min': 0.0, 'Kp_max': 500.0, 'Kp_min': 0.0, 'Kt_TMotor': 0.091, 'Kt_actual': 0.017, 'P_max': 12.5, 'P_min': -12.5, 'T_max': 12.0, 'T_min': -12.0, 'Use_derived_torque_constants': False, 'V_max': 76.0, 'V_min': -76.0}, 'AK80-64': {'Current_Factor': 0.59, 'GEAR_RATIO': 80.0, 'Kd_max': 5.0, 'Kd_min': 0.0, 'Kp_max': 500.0, 'Kp_min': 0.0, 'Kt_TMotor': 0.119, 'Kt_actual': 0.153, 'P_max': 12.5, 'P_min': -12.5, 'T_max': 144.0, 'T_min': -144.0, 'Use_derived_torque_constants': False, 'V_max': 8.0, 'V_min': -8.0}, 'AK80-9': {'Current_Factor': 0.59, 'GEAR_RATIO': 9.0, 'Kd_max': 5.0, 'Kd_min': 0.0, 'Kp_max': 500.0, 'Kp_min': 0.0, 'Kt_TMotor': 0.091, 'Kt_actual': 0.115, 'P_max': 12.5, 'P_min': -12.5, 'T_max': 18.0, 'T_min': -18.0, 'Use_derived_torque_constants': True, 'V_max': 50.0, 'V_min': -50.0, 'a_hat': [0.0, 1.15605006, 0.000417389589, 0.268556072, 0.049042414]}, 'ERROR_CODES': {0: 'No Error', 1: 'Over temperature fault', 2: 'Over current fault', 3: 'Over voltage fault', 4: 'Under voltage fault', 5: 'Encoder fault', 6: 'Phase current unbalance fault (The hardware may be damaged)'}}</em><a class="headerlink" href="#TMotorCANControl.mit_can.MIT_Params" title="Permalink to this definition">¶</a></dt>
<dd><p>A Dictionary containing the parameters of each type of motor, as well as the error
code definitions for the AK-series TMotor actuators.
You could use an optional torque model that accounts for friction losses if one is available.
So far, such a model is only available for the AK80-9.</p>
<dl class="docutils">
<dt>This model comes from a linear regression with the following constants:</dt>
<dd><ul class="first last simple">
<li>a_hat[0] = bias</li>
<li>a_hat[1] = standard torque constant multiplier</li>
<li>a_hat[2] = nonlinear torque constant multiplier</li>
<li>a_hat[3] = coloumb friction</li>
<li>a_hat[4] = gearbox friction</li>
</ul>
</dd>
</dl>
<p>The model has the form:
τ = a_hat[0] + gr*(a_hat[1]*kt - a_hat[2]*abs(i))*i - (v/(ϵ + np.abs(v)) )*(a_hat[3] + a_hat[4]*np.abs(i))</p>
<dl class="docutils">
<dt>with the following values:</dt>
<dd><ul class="first last simple">
<li>τ = approximated torque</li>
<li>gr = gear ratio</li>
<li>kt = nominal torque constant</li>
<li>i = current</li>
<li>v = velocity</li>
<li>ϵ = signum velocity threshold</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.mit_can.MIT_command">
<em class="property">class </em><code class="descclassname">TMotorCANControl.mit_can.</code><code class="descname">MIT_command</code><span class="sig-paren">(</span><em>position</em>, <em>velocity</em>, <em>kp</em>, <em>kd</em>, <em>current</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#MIT_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.MIT_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Data structure to store MIT_command that will be sent upon update</p>
<dl class="method">
<dt id="TMotorCANControl.mit_can.MIT_command.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>position</em>, <em>velocity</em>, <em>kp</em>, <em>kd</em>, <em>current</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#MIT_command.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.MIT_command.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the motor state to the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>position</strong> – Position in rad</li>
<li><strong>velocity</strong> – Velocity in rad/s</li>
<li><strong>kp</strong> – Position gain</li>
<li><strong>kd</strong> – Velocity gain</li>
<li><strong>current</strong> – Current in amps</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.MIT_command.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#TMotorCANControl.mit_can.MIT_command.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.MIT_motor_state">
<code class="descclassname">TMotorCANControl.mit_can.</code><code class="descname">MIT_motor_state</code><a class="headerlink" href="#TMotorCANControl.mit_can.MIT_motor_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor state from the controller, uneditable named tuple</p>
<p>alias of <a class="reference internal" href="#TMotorCANControl.mit_can.motor_state" title="TMotorCANControl.mit_can.motor_state"><code class="xref py py-class docutils literal notranslate"><span class="pre">TMotorCANControl.mit_can.motor_state</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can">
<em class="property">class </em><code class="descclassname">TMotorCANControl.mit_can.</code><code class="descname">TMotorManager_mit_can</code><span class="sig-paren">(</span><em>motor_type='AK80-9', motor_ID=1, CSV_file=None, log_vars=['output_angle', 'output_velocity', 'output_acceleration', 'current', 'output_torque'], use_torque_compensation=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can" title="Permalink to this definition">¶</a></dt>
<dd><p>The user-facing class that manages the motor. This class should be
used in the context of a with as block, in order to safely enter/exit
control of the motor.</p>
<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.__enter__">
<code class="descname">__enter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.__enter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.__enter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to safely power the motor on and begin the log file.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.__exit__">
<code class="descname">__exit__</code><span class="sig-paren">(</span><em>etype</em>, <em>value</em>, <em>tb</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.__exit__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.__exit__" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to safely power the motor off and close the log file.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>motor_type='AK80-9', motor_ID=1, CSV_file=None, log_vars=['output_angle', 'output_velocity', 'output_acceleration', 'current', 'output_torque'], use_torque_compensation=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up the motor manager. Note the device will not be powered on by this method! You must
call __enter__, mostly commonly by using a with block, before attempting to control the motor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>motor_type</strong> – The type of motor being controlled, ie AK80-9.</li>
<li><strong>motor_ID</strong> – The CAN ID of the motor.</li>
<li><strong>CSV_file</strong> – A CSV file to output log info to. If None, no log will be recorded.</li>
<li><strong>log_vars</strong> – The variables to log as a python list. The full list of possibilities is</li>
<li><strong>&quot;output_angle&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;output_velocity&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;output_acceleration&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;current&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;output_torque&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;motor_angle&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;motor_velocity&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;motor_acceleration&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;motor_torque&quot;</strong> (<em>-</em>) – </li>
<li><strong>use_torque_compensation</strong> – Enables a more complex torque model to compensate for friction, if available</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.__str__">
<code class="descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.__str__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the motor’s device info and current</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can._send_command">
<code class="descname">_send_command</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can._send_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can._send_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a command to the motor depending on whats controlm mode the motor is in. This method
is called by update(), and should only be called on its own if you don’t want to update the motor state info.</p>
<p>Notably, the current is converted to amps from the reported ‘torque’ value, which is i*Kt.
This allows control based on actual q-axis current, rather than estimated torque, which
doesn’t account for friction losses.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can._update_state_async">
<code class="descname">_update_state_async</code><span class="sig-paren">(</span><em>MIT_state</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can._update_state_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can._update_state_async" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called by the handler every time a message is recieved on the bus
from this motor, to store the most recent state information for later</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>MIT_state</strong> – The MIT_Motor_State namedtuple with the most recent motor state.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">RuntimeError when device sends back an error code that is not 0 (0 meaning no error)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.acceleration">
<code class="descname">acceleration</code><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.acceleration" title="Permalink to this definition">¶</a></dt>
<dd><p>Output acceleration in rad/s/s</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.acceleration_motorside">
<code class="descname">acceleration_motorside</code><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.acceleration_motorside" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor-side acceleration in rad/s/s</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.check_can_connection">
<code class="descname">check_can_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.check_can_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.check_can_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the motor’s connection by attempting to send 10 startup messages.
If it gets 10 replies, then the connection is confirmed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if a connection is established and False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.current_qaxis">
<code class="descname">current_qaxis</code><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.current_qaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Q-axis current in amps</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.device_info_string">
<code class="descname">device_info_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.device_info_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.device_info_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the motor’s ID and device type.</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.error">
<code class="descname">error</code><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor error code. 0 means no error.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.get_current_qaxis_amps">
<code class="descname">get_current_qaxis_amps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.get_current_qaxis_amps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.get_current_qaxis_amps" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated qaxis current in amps</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.get_motor_acceleration_radians_per_second_squared">
<code class="descname">get_motor_acceleration_radians_per_second_squared</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.get_motor_acceleration_radians_per_second_squared"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.get_motor_acceleration_radians_per_second_squared" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for get_output_acceleration that accounts for gear ratio to get motor-side acceleration</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated motor-side acceleration in rad/s/s.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.get_motor_angle_radians">
<code class="descname">get_motor_angle_radians</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.get_motor_angle_radians"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.get_motor_angle_radians" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for get_output_angle that accounts for gear ratio to get motor-side angle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated motor-side angle in rad.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.get_motor_error_code">
<code class="descname">get_motor_error_code</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.get_motor_error_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.get_motor_error_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated motor error code.
Note the program should throw a runtime error before you get a chance to read
this value if it is ever anything besides 0.</p>
<p>Codes:
- 0 : ‘No Error’,
- 1 : ‘Over temperature fault’,
- 2 : ‘Over current fault’,
- 3 : ‘Over voltage fault’,
- 4 : ‘Under voltage fault’,
- 5 : ‘Encoder fault’,
- 6 : ‘Phase current unbalance fault (The hardware may be damaged)’</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.get_motor_torque_newton_meters">
<code class="descname">get_motor_torque_newton_meters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.get_motor_torque_newton_meters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.get_motor_torque_newton_meters" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for get_output_torque that accounts for gear ratio to get motor-side torque</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated motor-side torque in Nm.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.get_motor_velocity_radians_per_second">
<code class="descname">get_motor_velocity_radians_per_second</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.get_motor_velocity_radians_per_second"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.get_motor_velocity_radians_per_second" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for get_output_velocity that accounts for gear ratio to get motor-side velocity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated motor-side velocity in rad/s.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.get_output_acceleration_radians_per_second_squared">
<code class="descname">get_output_acceleration_radians_per_second_squared</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.get_output_acceleration_radians_per_second_squared"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.get_output_acceleration_radians_per_second_squared" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated output acceleration in radians per second per second</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.get_output_angle_radians">
<code class="descname">get_output_angle_radians</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.get_output_angle_radians"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.get_output_angle_radians" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated output angle in radians</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.get_output_torque_newton_meters">
<code class="descname">get_output_torque_newton_meters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.get_output_torque_newton_meters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.get_output_torque_newton_meters" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the most recently updated output torque in Nm</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.get_output_velocity_radians_per_second">
<code class="descname">get_output_velocity_radians_per_second</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.get_output_velocity_radians_per_second"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.get_output_velocity_radians_per_second" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated output velocity in radians per second</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.get_temperature_celsius">
<code class="descname">get_temperature_celsius</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.get_temperature_celsius"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.get_temperature_celsius" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated motor temperature in degrees C.</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.position">
<code class="descname">position</code><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.position" title="Permalink to this definition">¶</a></dt>
<dd><p>Output angle in rad</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.position_motorside">
<code class="descname">position_motorside</code><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.position_motorside" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor-side angle in rad</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.power_off">
<code class="descname">power_off</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.power_off"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.power_off" title="Permalink to this definition">¶</a></dt>
<dd><p>Powers off the motor.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.power_on">
<code class="descname">power_on</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.power_on"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.power_on" title="Permalink to this definition">¶</a></dt>
<dd><p>Powers on the motor. You may hear a faint hiss.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.set_current_gains">
<code class="descname">set_current_gains</code><span class="sig-paren">(</span><em>kp=40</em>, <em>ki=400</em>, <em>ff=128</em>, <em>spoof=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.set_current_gains"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.set_current_gains" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses plain current mode, will send 0.0 for position gains in addition to requested current.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kp</strong> – A dummy argument for backward compatibility with the dephy library.</li>
<li><strong>ki</strong> – A dummy argument for backward compatibility with the dephy library.</li>
<li><strong>ff</strong> – A dummy argument for backward compatibility with the dephy library.</li>
<li><strong>spoof</strong> – A dummy argument for backward compatibility with the dephy library.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.set_impedance_gains_real_unit">
<code class="descname">set_impedance_gains_real_unit</code><span class="sig-paren">(</span><em>kp=0</em>, <em>ki=0</em>, <em>K=0.08922</em>, <em>B=0.003807</em>, <em>ff=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.set_impedance_gains_real_unit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.set_impedance_gains_real_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses plain impedance mode, will send 0.0 for current command in addition to position request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kp</strong> – A dummy argument for backward compatibility with the dephy library.</li>
<li><strong>ki</strong> – A dummy argument for backward compatibility with the dephy library.</li>
<li><strong>K</strong> – The stiffness in Nm/rad</li>
<li><strong>B</strong> – The damping in Nm/(rad/s)</li>
<li><strong>ff</strong> – A dummy argument for backward compatibility with the dephy library.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.set_impedance_gains_real_unit_full_state_feedback">
<code class="descname">set_impedance_gains_real_unit_full_state_feedback</code><span class="sig-paren">(</span><em>kp=0</em>, <em>ki=0</em>, <em>K=0.08922</em>, <em>B=0.003807</em>, <em>ff=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.set_impedance_gains_real_unit_full_state_feedback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.set_impedance_gains_real_unit_full_state_feedback" title="Permalink to this definition">¶</a></dt>
<dd><p>”
Uses full state feedback mode, will send whatever current command is set in addition to position request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kp</strong> – A dummy argument for backward compatibility with the dephy library.</li>
<li><strong>ki</strong> – A dummy argument for backward compatibility with the dephy library.</li>
<li><strong>K</strong> – The stiffness in Nm/rad</li>
<li><strong>B</strong> – The damping in Nm/(rad/s)</li>
<li><strong>ff</strong> – A dummy argument for backward compatibility with the dephy library.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.set_motor_angle_radians">
<code class="descname">set_motor_angle_radians</code><span class="sig-paren">(</span><em>pos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.set_motor_angle_radians"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.set_motor_angle_radians" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for set_output_angle that accounts for gear ratio to control motor-side angle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pos</strong> – The desired motor-side position in rad.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.set_motor_current_qaxis_amps">
<code class="descname">set_motor_current_qaxis_amps</code><span class="sig-paren">(</span><em>current</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.set_motor_current_qaxis_amps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.set_motor_current_qaxis_amps" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for either current or full state feedback mode to set current command.
Note, this does not send a command, it updates the TMotorManager’s saved command,
which will be sent when update() is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>current</strong> – the desired current in amps.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.set_motor_torque_newton_meters">
<code class="descname">set_motor_torque_newton_meters</code><span class="sig-paren">(</span><em>torque</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.set_motor_torque_newton_meters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.set_motor_torque_newton_meters" title="Permalink to this definition">¶</a></dt>
<dd><p>Version of set_output_torque that accounts for gear ratio to control motor-side torque</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>torque</strong> – The desired motor-side torque in Nm.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.set_motor_velocity_radians_per_second">
<code class="descname">set_motor_velocity_radians_per_second</code><span class="sig-paren">(</span><em>vel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.set_motor_velocity_radians_per_second"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.set_motor_velocity_radians_per_second" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for set_output_velocity that accounts for gear ratio to control motor-side velocity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vel</strong> – The desired motor-side velocity in rad/s.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.set_output_angle_radians">
<code class="descname">set_output_angle_radians</code><span class="sig-paren">(</span><em>pos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.set_output_angle_radians"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.set_output_angle_radians" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for either impedance or full state feedback mode to set output angle command.
Note, this does not send a command, it updates the TMotorManager’s saved command,
which will be sent when update() is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pos</strong> – The desired output position in rads</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.set_output_torque_newton_meters">
<code class="descname">set_output_torque_newton_meters</code><span class="sig-paren">(</span><em>torque</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.set_output_torque_newton_meters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.set_output_torque_newton_meters" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for either current or MIT Mode to set current, based on desired torque.
If a more complicated torque model is available for the motor, that will be used.
Otherwise it will just use the motor’s torque constant.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>torque</strong> – The desired output torque in Nm.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.set_output_velocity_radians_per_second">
<code class="descname">set_output_velocity_radians_per_second</code><span class="sig-paren">(</span><em>vel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.set_output_velocity_radians_per_second"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.set_output_velocity_radians_per_second" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for either speed or full state feedback mode to set output velocity command.
Note, this does not send a command, it updates the TMotorManager’s saved command,
which will be sent when update() is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vel</strong> – The desired output speed in rad/s</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.set_speed_gains">
<code class="descname">set_speed_gains</code><span class="sig-paren">(</span><em>kd=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.set_speed_gains"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.set_speed_gains" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses plain speed mode, will send 0.0 for position gain and for feed forward current.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kd</strong> – The gain for the speed controller. Control law will be (v_des - v_actual)*kd = iq</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.set_zero_position">
<code class="descname">set_zero_position</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.set_zero_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.set_zero_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Zeros the position–like a scale you have to wait about a second before you can
use the motor again. This responsibility is on the user!!</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.temperature">
<code class="descname">temperature</code><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>Temperature in Degrees Celsius</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.torque">
<code class="descname">torque</code><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.torque" title="Permalink to this definition">¶</a></dt>
<dd><p>Output torque in Nm</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.torque_motorside">
<code class="descname">torque_motorside</code><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.torque_motorside" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor-side torque in Nm</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#TMotorManager_mit_can.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.update" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called by the user to synchronize the current state used by the controller
with the most recent message recieved, as well as to send the current command.</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.velocity">
<code class="descname">velocity</code><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Output velocity in rad/s</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.TMotorManager_mit_can.velocity_motorside">
<code class="descname">velocity_motorside</code><a class="headerlink" href="#TMotorCANControl.mit_can.TMotorManager_mit_can.velocity_motorside" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor-side velocity in rad/s</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.mit_can._TMotorManState">
<em class="property">class </em><code class="descclassname">TMotorCANControl.mit_can.</code><code class="descname">_TMotorManState</code><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#_TMotorManState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can._TMotorManState" title="Permalink to this definition">¶</a></dt>
<dd><p>An Enum to keep track of different control states</p>
</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.mit_can.motorListener">
<em class="property">class </em><code class="descclassname">TMotorCANControl.mit_can.</code><code class="descname">motorListener</code><span class="sig-paren">(</span><em>canman</em>, <em>motor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#motorListener"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.motorListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Python-can listener object, with handler to be called upon reception of a message on the CAN bus</p>
<dl class="method">
<dt id="TMotorCANControl.mit_can.motorListener.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>canman</em>, <em>motor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#motorListener.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.motorListener.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets stores can manager and motor object references</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>canman</strong> – The CanManager object to get messages from</li>
<li><strong>motor</strong> – The TMotorCANManager object to update</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.motorListener.on_message_received">
<code class="descname">on_message_received</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#motorListener.on_message_received"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.motorListener.on_message_received" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates this listener’s motor with the info contained in msg, if that message was for this motor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>msg</strong> – A python-can CAN message</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.mit_can.motor_state">
<em class="property">class </em><code class="descclassname">TMotorCANControl.mit_can.</code><code class="descname">motor_state</code><span class="sig-paren">(</span><em>position</em>, <em>velocity</em>, <em>current</em>, <em>temperature</em>, <em>error</em>, <em>acceleration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#motor_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.motor_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Data structure to store and update motor states</p>
<dl class="method">
<dt id="TMotorCANControl.mit_can.motor_state.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>position</em>, <em>velocity</em>, <em>current</em>, <em>temperature</em>, <em>error</em>, <em>acceleration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#motor_state.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.motor_state.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the motor state to the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>position</strong> – Position in rad</li>
<li><strong>velocity</strong> – Velocity in rad/s</li>
<li><strong>current</strong> – current in amps</li>
<li><strong>temperature</strong> – temperature in degrees C</li>
<li><strong>error</strong> – error code, 0 means no error</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.mit_can.motor_state.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#TMotorCANControl.mit_can.motor_state.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.motor_state.set_state">
<code class="descname">set_state</code><span class="sig-paren">(</span><em>position</em>, <em>velocity</em>, <em>current</em>, <em>temperature</em>, <em>error</em>, <em>acceleration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#motor_state.set_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.motor_state.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the motor state to the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>position</strong> – Position in rad</li>
<li><strong>velocity</strong> – Velocity in rad/s</li>
<li><strong>current</strong> – current in amps</li>
<li><strong>temperature</strong> – temperature in degrees C</li>
<li><strong>error</strong> – error code, 0 means no error</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.mit_can.motor_state.set_state_obj">
<code class="descname">set_state_obj</code><span class="sig-paren">(</span><em>other_motor_state</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/mit_can.html#motor_state.set_state_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.mit_can.motor_state.set_state_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets this motor state object’s values to those of another motor state object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other_motor_state</strong> – The other motor state object with values to set this motor state object’s values to.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="tmotorcancontrol-servo-can-module">
<h2>TMotorCANControl.servo_can module<a class="headerlink" href="#tmotorcancontrol-servo-can-module" title="Permalink to this headline">¶</a></h2>
<p>A module for controlling the motor in Servo mode over the CAN bus.</p>
<span class="target" id="module-TMotorCANControl.servo_can"></span><dl class="class">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo">
<em class="property">class </em><code class="descclassname">TMotorCANControl.servo_can.</code><code class="descname">CAN_Manager_servo</code><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to manage the low level CAN communication protocols</p>
<dl class="method">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.__del__">
<code class="descname">__del__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo.__del__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.__del__" title="Permalink to this definition">¶</a></dt>
<dd><p># shut down the CAN bus when the object is deleted
# This may not ever get called, so keep a reference and explicitly delete if this is important.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>ALl initialization happens in __new__</p>
</dd></dl>

<dl class="staticmethod">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.__new__">
<em class="property">static </em><code class="descname">__new__</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo.__new__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.__new__" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a singleton object to manage a socketcan_native CAN bus.</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo._instance">
<code class="descname">_instance</code><em class="property"> = None</em><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo._instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to keep track of one instantation of the class to make a singleton object</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.add_motor">
<code class="descname">add_motor</code><span class="sig-paren">(</span><em>motor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo.add_motor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.add_motor" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe a motor object to the CAN bus to be updated upon message reception</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>motor</strong> – The TMotorManager object to be subscribed to the notifier</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.buffer_append_int16">
<em class="property">static </em><code class="descname">buffer_append_int16</code><span class="sig-paren">(</span><em>buffer</em>, <em>number</em>, <em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo.buffer_append_int16"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.buffer_append_int16" title="Permalink to this definition">¶</a></dt>
<dd><p>buffer size for int 16</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Buffer</strong> – memory allocated to store data.</li>
<li><strong>number</strong> – value.</li>
<li><strong>index</strong> – Size of the buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.buffer_append_int32">
<em class="property">static </em><code class="descname">buffer_append_int32</code><span class="sig-paren">(</span><em>buffer</em>, <em>number</em>, <em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo.buffer_append_int32"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.buffer_append_int32" title="Permalink to this definition">¶</a></dt>
<dd><p>buffer size for int 32</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Buffer</strong> – memory allocated to store data.</li>
<li><strong>number</strong> – value.</li>
<li><strong>index</strong> – Size of the buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.buffer_append_int64">
<em class="property">static </em><code class="descname">buffer_append_int64</code><span class="sig-paren">(</span><em>buffer</em>, <em>number</em>, <em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo.buffer_append_int64"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.buffer_append_int64" title="Permalink to this definition">¶</a></dt>
<dd><p>buffer size for int 64</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Buffer</strong> – memory allocated to store data.</li>
<li><strong>number</strong> – value.</li>
<li><strong>index</strong> – Size of the buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.buffer_append_uint16">
<em class="property">static </em><code class="descname">buffer_append_uint16</code><span class="sig-paren">(</span><em>buffer</em>, <em>number</em>, <em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo.buffer_append_uint16"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.buffer_append_uint16" title="Permalink to this definition">¶</a></dt>
<dd><p>buffer size for Uint 16</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Buffer</strong> – memory allocated to store data.</li>
<li><strong>number</strong> – value.</li>
<li><strong>index</strong> – Size of the buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.buffer_append_uint32">
<em class="property">static </em><code class="descname">buffer_append_uint32</code><span class="sig-paren">(</span><em>buffer</em>, <em>number</em>, <em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo.buffer_append_uint32"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.buffer_append_uint32" title="Permalink to this definition">¶</a></dt>
<dd><p>buffer size for uint 32</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Buffer</strong> – memory allocated to store data.</li>
<li><strong>number</strong> – value.</li>
<li><strong>index</strong> – Size of the buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.buffer_append_uint64">
<em class="property">static </em><code class="descname">buffer_append_uint64</code><span class="sig-paren">(</span><em>buffer</em>, <em>number</em>, <em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo.buffer_append_uint64"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.buffer_append_uint64" title="Permalink to this definition">¶</a></dt>
<dd><p>buffer size for uint 64</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Buffer</strong> – memory allocated to store data.</li>
<li><strong>number</strong> – value.</li>
<li><strong>index</strong> – Size of the buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.debug">
<code class="descname">debug</code><em class="property"> = False</em><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to true to display every message sent and recieved for debugging.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.power_off">
<code class="descname">power_off</code><span class="sig-paren">(</span><em>motor_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo.power_off"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.power_off" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the power off code to motor_id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>motor_id</strong> – The CAN ID of the motor to send the message to.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.power_on">
<code class="descname">power_on</code><span class="sig-paren">(</span><em>motor_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo.power_on"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.power_on" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the power on code to motor_id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>motor_id</strong> – The CAN ID of the motor to send the message to.</li>
<li><strong>Data</strong> – This is obtained from the datasheet.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.CAN_Manager_servo.send_servo_message">
<code class="descname">send_servo_message</code><span class="sig-paren">(</span><em>motor_id</em>, <em>data</em>, <em>data_len</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#CAN_Manager_servo.send_servo_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.CAN_Manager_servo.send_servo_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a Servo Mode message to the motor, with a header of motor_id and data array of data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>motor_id</strong> – The CAN ID of the motor to send to.</li>
<li><strong>data</strong> – An array of integers or bytes of data to send.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="TMotorCANControl.servo_can.Servo_Params">
<code class="descclassname">TMotorCANControl.servo_can.</code><code class="descname">Servo_Params</code><em class="property"> = {'AK10-9': {'Curr_max': 1500, 'Curr_min': -1500, 'Current_Factor': 0.59, 'GEAR_RATIO': 9.0, 'Kt_TMotor': 0.16, 'Kt_actual': 0.206, 'P_max': 32000, 'P_min': -32000, 'T_max': 15, 'T_min': -15, 'Use_derived_torque_constants': False, 'V_max': 100000, 'V_min': -100000}, 'AK80-9': {'Curr_max': 1500, 'Curr_min': -1500, 'Current_Factor': 0.59, 'GEAR_RATIO': 9.0, 'Kt_TMotor': 0.091, 'Kt_actual': 0.115, 'NUM_POLE_PAIRS': 21, 'P_max': 32000, 'P_min': -32000, 'T_max': 30, 'T_min': -30, 'Use_derived_torque_constants': False, 'V_max': 32000, 'V_min': -32000}, 'CAN_PACKET_ID': {'CAN_PACKET_SET_CURRENT': 1, 'CAN_PACKET_SET_CURRENT_BRAKE': 2, 'CAN_PACKET_SET_DUTY': 0, 'CAN_PACKET_SET_ORIGIN_HERE': 5, 'CAN_PACKET_SET_POS': 4, 'CAN_PACKET_SET_POS_SPD': 6, 'CAN_PACKET_SET_RPM': 3}, 'ERROR_CODES': {0: 'No Error', 1: 'Over temperature fault', 2: 'Over current fault', 3: 'Over voltage fault', 4: 'Under voltage fault', 5: 'Encoder fault', 6: 'Phase current unbalance fault (The hardware may be damaged)'}}</em><a class="headerlink" href="#TMotorCANControl.servo_can.Servo_Params" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary with the parameters needed to control the motor</p>
</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can">
<em class="property">class </em><code class="descclassname">TMotorCANControl.servo_can.</code><code class="descname">TMotorManager_servo_can</code><span class="sig-paren">(</span><em>motor_type='AK80-9', motor_ID=1, CSV_file=None, log_vars=['motor_position', 'motor_speed', 'motor_current', 'motor_temperature'], use_torque_compensation=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can" title="Permalink to this definition">¶</a></dt>
<dd><p>The user-facing class that manages the motor. This class should be
used in the context of a with as block, in order to safely enter/exit
control of the motor.</p>
<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.__enter__">
<code class="descname">__enter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.__enter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.__enter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to safely power the motor on and begin the log file.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.__exit__">
<code class="descname">__exit__</code><span class="sig-paren">(</span><em>etype</em>, <em>value</em>, <em>tb</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.__exit__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.__exit__" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to safely power the motor off and close the log file.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>motor_type='AK80-9', motor_ID=1, CSV_file=None, log_vars=['motor_position', 'motor_speed', 'motor_current', 'motor_temperature'], use_torque_compensation=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up the motor manager. Note the device will not be powered on by this method! You must
call __enter__, mostly commonly by using a with block, before attempting to control the motor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>motor_type</strong> – The type of motor being controlled, ie AK80-9.</li>
<li><strong>motor_ID</strong> – The CAN ID of the motor.</li>
<li><strong>CSV_file</strong> – A CSV file to output log info to. If None, no log will be recorded.</li>
<li><strong>log_vars</strong> – The variables to log as a python list. The full list of possibilities is</li>
<li><strong>&quot;output_angle&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;output_velocity&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;output_acceleration&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;current&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;output_torque&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;motor_angle&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;motor_velocity&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;motor_acceleration&quot;</strong> (<em>-</em>) – </li>
<li><strong>&quot;motor_torque&quot;</strong> (<em>-</em>) – </li>
<li><strong>use_torque_compensation</strong> – Enables a more complex torque model to compensate for friction, if available</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.__str__">
<code class="descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.__str__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the motor’s device info and current</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can._send_command">
<code class="descname">_send_command</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can._send_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can._send_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a command to the motor depending on whats controlm mode the motor is in. This method
is called by update(), and should only be called on its own if you don’t want to update the motor state info.</p>
<p>Notably, the current is converted to amps from the reported ‘torque’ value, which is i*Kt.
This allows control based on actual q-axis current, rather than estimated torque, which
doesn’t account for friction losses.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can._update_state_async">
<code class="descname">_update_state_async</code><span class="sig-paren">(</span><em>servo_state</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can._update_state_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can._update_state_async" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called by the handler every time a message is recieved on the bus
from this motor, to store the most recent state information for later</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>servo_state</strong> – the servo_state object with the updated motor state</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">RuntimeError when device sends back an error code that is not 0 (0 meaning no error)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.acceleration">
<code class="descname">acceleration</code><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.acceleration" title="Permalink to this definition">¶</a></dt>
<dd><p>Output acceleration in rad/s/s</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.acceleration_motorside">
<code class="descname">acceleration_motorside</code><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.acceleration_motorside" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor-side acceleration in rad/s/s</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.angle_motorside">
<code class="descname">angle_motorside</code><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.angle_motorside" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor-side angle in rad</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.check_can_connection">
<code class="descname">check_can_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.check_can_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.check_can_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the motor’s connection by attempting to send 10 startup messages.
If it gets 10 replies, then the connection is confirmed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if a connection is established and False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.current_qaxis">
<code class="descname">current_qaxis</code><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.current_qaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Q-axis current in amps</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.device_info_string">
<code class="descname">device_info_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.device_info_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.device_info_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the motor’s ID and device type.</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.error">
<code class="descname">error</code><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor error code. 0 means no error.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.get_current_qaxis_amps">
<code class="descname">get_current_qaxis_amps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.get_current_qaxis_amps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.get_current_qaxis_amps" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated qaxis current in amps</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.get_motor_acceleration_radians_per_second_squared">
<code class="descname">get_motor_acceleration_radians_per_second_squared</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.get_motor_acceleration_radians_per_second_squared"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.get_motor_acceleration_radians_per_second_squared" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for get_output_acceleration that accounts for gear ratio to get motor-side acceleration</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated motor-side acceleration in rad/s/s.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.get_motor_angle_radians">
<code class="descname">get_motor_angle_radians</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.get_motor_angle_radians"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.get_motor_angle_radians" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for get_output_angle that accounts for gear ratio to get motor-side angle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated motor-side angle in rad.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.get_motor_error_code">
<code class="descname">get_motor_error_code</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.get_motor_error_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.get_motor_error_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated motor error code.
Note the program should throw a runtime error before you get a chance to read
this value if it is ever anything besides 0.</p>
<p>Codes:
- 0 : ‘No Error’,
- 1 : ‘Over temperature fault’,
- 2 : ‘Over current fault’,
- 3 : ‘Over voltage fault’,
- 4 : ‘Under voltage fault’,
- 5 : ‘Encoder fault’,
- 6 : ‘Phase current unbalance fault (The hardware may be damaged)’</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.get_motor_torque_newton_meters">
<code class="descname">get_motor_torque_newton_meters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.get_motor_torque_newton_meters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.get_motor_torque_newton_meters" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for get_output_torque that accounts for gear ratio to get motor-side torque</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated motor-side torque in Nm.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.get_motor_velocity_radians_per_second">
<code class="descname">get_motor_velocity_radians_per_second</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.get_motor_velocity_radians_per_second"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.get_motor_velocity_radians_per_second" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for get_output_velocity that accounts for gear ratio to get motor-side velocity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated motor-side velocity in rad/s.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.get_output_acceleration_radians_per_second_squared">
<code class="descname">get_output_acceleration_radians_per_second_squared</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.get_output_acceleration_radians_per_second_squared"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.get_output_acceleration_radians_per_second_squared" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated output acceleration in radians per second per second</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.get_output_angle_radians">
<code class="descname">get_output_angle_radians</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.get_output_angle_radians"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.get_output_angle_radians" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated output angle in radians</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.get_output_torque_newton_meters">
<code class="descname">get_output_torque_newton_meters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.get_output_torque_newton_meters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.get_output_torque_newton_meters" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the most recently updated output torque in Nm</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.get_output_velocity_radians_per_second">
<code class="descname">get_output_velocity_radians_per_second</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.get_output_velocity_radians_per_second"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.get_output_velocity_radians_per_second" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated output velocity in radians per second</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.get_temperature_celsius">
<code class="descname">get_temperature_celsius</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.get_temperature_celsius"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.get_temperature_celsius" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated motor temperature in degrees C.</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.position">
<code class="descname">position</code><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.position" title="Permalink to this definition">¶</a></dt>
<dd><p>Output angle in rad</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.power_off">
<code class="descname">power_off</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.power_off"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.power_off" title="Permalink to this definition">¶</a></dt>
<dd><p>Powers off the motor.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.power_on">
<code class="descname">power_on</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.power_on"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.power_on" title="Permalink to this definition">¶</a></dt>
<dd><p>Powers on the motor. You may hear a faint hiss.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.set_motor_angle_radians">
<code class="descname">set_motor_angle_radians</code><span class="sig-paren">(</span><em>pos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.set_motor_angle_radians"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.set_motor_angle_radians" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for set_output_angle that accounts for gear ratio to control motor-side angle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pos</strong> – The desired motor-side position in rad.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.set_motor_current_qaxis_amps">
<code class="descname">set_motor_current_qaxis_amps</code><span class="sig-paren">(</span><em>current</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.set_motor_current_qaxis_amps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.set_motor_current_qaxis_amps" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for either current or full state feedback mode to set current command.
Note, this does not send a command, it updates the TMotorManager’s saved command,
which will be sent when update() is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>current</strong> – the desired current in amps.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.set_motor_torque_newton_meters">
<code class="descname">set_motor_torque_newton_meters</code><span class="sig-paren">(</span><em>torque</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.set_motor_torque_newton_meters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.set_motor_torque_newton_meters" title="Permalink to this definition">¶</a></dt>
<dd><p>Version of set_output_torque that accounts for gear ratio to control motor-side torque</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>torque</strong> – The desired motor-side torque in Nm.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.set_motor_velocity_radians_per_second">
<code class="descname">set_motor_velocity_radians_per_second</code><span class="sig-paren">(</span><em>vel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.set_motor_velocity_radians_per_second"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.set_motor_velocity_radians_per_second" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for set_output_velocity that accounts for gear ratio to control motor-side velocity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vel</strong> – The desired motor-side velocity in rad/s.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.set_output_angle_radians">
<code class="descname">set_output_angle_radians</code><span class="sig-paren">(</span><em>pos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.set_output_angle_radians"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.set_output_angle_radians" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for either impedance or full state feedback mode to set output angle command.
Note, this does not send a command, it updates the TMotorManager’s saved command,
which will be sent when update() is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pos</strong> – The desired output position in rads</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.set_output_torque_newton_meters">
<code class="descname">set_output_torque_newton_meters</code><span class="sig-paren">(</span><em>torque</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.set_output_torque_newton_meters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.set_output_torque_newton_meters" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for either current or MIT Mode to set current, based on desired torque.
If a more complicated torque model is available for the motor, that will be used.
Otherwise it will just use the motor’s torque constant.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>torque</strong> – The desired output torque in Nm.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.set_output_velocity_radians_per_second">
<code class="descname">set_output_velocity_radians_per_second</code><span class="sig-paren">(</span><em>vel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.set_output_velocity_radians_per_second"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.set_output_velocity_radians_per_second" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for either speed or full state feedback mode to set output velocity command.
Note, this does not send a command, it updates the TMotorManager’s saved command,
which will be sent when update() is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vel</strong> – The desired output speed in rad/s</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.set_zero_position">
<code class="descname">set_zero_position</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.set_zero_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.set_zero_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Zeros the position–like a scale you have to wait about a second before you can
use the motor again. This responsibility is on the user!!</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.temperature">
<code class="descname">temperature</code><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>Temperature in Degrees Celsius</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.torque">
<code class="descname">torque</code><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.torque" title="Permalink to this definition">¶</a></dt>
<dd><p>Output torque in Nm</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.torque_motorside">
<code class="descname">torque_motorside</code><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.torque_motorside" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor-side torque in Nm</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#TMotorManager_servo_can.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.update" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called by the user to synchronize the current state used by the controller/logger
with the most recent message recieved, as well as to send the current command.</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.velocity">
<code class="descname">velocity</code><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Output velocity in rad/s</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.TMotorManager_servo_can.velocity_motorside">
<code class="descname">velocity_motorside</code><a class="headerlink" href="#TMotorCANControl.servo_can.TMotorManager_servo_can.velocity_motorside" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor-side velocity in rad/s</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.servo_can._TMotorManState_Servo">
<em class="property">class </em><code class="descclassname">TMotorCANControl.servo_can.</code><code class="descname">_TMotorManState_Servo</code><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#_TMotorManState_Servo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can._TMotorManState_Servo" title="Permalink to this definition">¶</a></dt>
<dd><p>An Enum to keep track of different control states</p>
</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.servo_can.motorListener">
<em class="property">class </em><code class="descclassname">TMotorCANControl.servo_can.</code><code class="descname">motorListener</code><span class="sig-paren">(</span><em>canman</em>, <em>motor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#motorListener"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.motorListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Python-can listener object, with handler to be called upon reception of a message on the CAN bus</p>
<dl class="method">
<dt id="TMotorCANControl.servo_can.motorListener.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>canman</em>, <em>motor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#motorListener.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.motorListener.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets stores can manager and motor object references</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>canman</strong> – The CanManager object to get messages from</li>
<li><strong>motor</strong> – The TMotorCANManager object to update</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.motorListener.on_message_received">
<code class="descname">on_message_received</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#motorListener.on_message_received"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.motorListener.on_message_received" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates this listener’s motor with the info contained in msg, if that message was for this motor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>msg</strong> – A python-can CAN message</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.servo_can.servo_command">
<em class="property">class </em><code class="descclassname">TMotorCANControl.servo_can.</code><code class="descname">servo_command</code><span class="sig-paren">(</span><em>position</em>, <em>velocity</em>, <em>current</em>, <em>duty</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#servo_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.servo_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Data structure to store MIT_command that will be sent upon update</p>
<dl class="method">
<dt id="TMotorCANControl.servo_can.servo_command.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>position</em>, <em>velocity</em>, <em>current</em>, <em>duty</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#servo_command.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.servo_command.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the motor state to the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>position</strong> – Position in rad</li>
<li><strong>velocity</strong> – Velocity in rad/s</li>
<li><strong>kp</strong> – Position gain</li>
<li><strong>kd</strong> – Velocity gain</li>
<li><strong>current</strong> – Current in amps</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.servo_command.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#TMotorCANControl.servo_can.servo_command.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.servo_can.servo_motor_state">
<em class="property">class </em><code class="descclassname">TMotorCANControl.servo_can.</code><code class="descname">servo_motor_state</code><span class="sig-paren">(</span><em>position</em>, <em>velocity</em>, <em>current</em>, <em>temperature</em>, <em>error</em>, <em>acceleration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#servo_motor_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.servo_motor_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Data structure to store and update motor states</p>
<dl class="method">
<dt id="TMotorCANControl.servo_can.servo_motor_state.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>position</em>, <em>velocity</em>, <em>current</em>, <em>temperature</em>, <em>error</em>, <em>acceleration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#servo_motor_state.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.servo_motor_state.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the motor state to the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>position</strong> – Position in rad</li>
<li><strong>velocity</strong> – Velocity in rad/s</li>
<li><strong>current</strong> – current in amps</li>
<li><strong>temperature</strong> – temperature in degrees C</li>
<li><strong>error</strong> – error code, 0 means no error</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.servo_motor_state.__str__">
<code class="descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#servo_motor_state.__str__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.servo_motor_state.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return str(self).</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_can.servo_motor_state.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#TMotorCANControl.servo_can.servo_motor_state.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.servo_motor_state.set_state">
<code class="descname">set_state</code><span class="sig-paren">(</span><em>position</em>, <em>velocity</em>, <em>current</em>, <em>temperature</em>, <em>error</em>, <em>acceleration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#servo_motor_state.set_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.servo_motor_state.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the motor state to the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>position</strong> – Position in rad</li>
<li><strong>velocity</strong> – Velocity in rad/s</li>
<li><strong>current</strong> – current in amps</li>
<li><strong>temperature</strong> – temperature in degrees C</li>
<li><strong>error</strong> – error code, 0 means no error</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_can.servo_motor_state.set_state_obj">
<code class="descname">set_state_obj</code><span class="sig-paren">(</span><em>other_motor_state</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_can.html#servo_motor_state.set_state_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_can.servo_motor_state.set_state_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets this motor state object’s values to those of another motor state object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other_motor_state</strong> – The other motor state object with values to set this motor state object’s values to.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="tmotorcancontrol-servo-serial-module">
<h2>TMotorCANControl.servo_serial module<a class="headerlink" href="#tmotorcancontrol-servo-serial-module" title="Permalink to this headline">¶</a></h2>
<p>A module for controlling the motor in Servo mode over a serial port.</p>
<span class="target" id="module-TMotorCANControl.servo_serial"></span><dl class="class">
<dt id="TMotorCANControl.servo_serial.COMM_PACKET_ID">
<em class="property">class </em><code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">COMM_PACKET_ID</code><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#COMM_PACKET_ID"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.COMM_PACKET_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>Basically used as ENUM to identify what each packet ID does</p>
<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.COMM_PACKET_ID.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#TMotorCANControl.servo_serial.COMM_PACKET_ID.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="TMotorCANControl.servo_serial.ERROR_CODES">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">ERROR_CODES</code><em class="property"> = {0: 'FAULT_CODE_NONE', 1: 'FAULT_CODE_OVER_VOLTAGE', 2: 'FAULT_CODE_UNDER_VOLTAGE', 3: 'FAULT_CODE_DRIVE', 4: 'FAULT_CODE_ABS_OVER_CURRENT', 5: 'FAULT_CODE_OVER_TEMP_FET', 6: 'FAULT_CODE_OVER_TEMP_MOTOR', 7: 'FAULT_CODE_GATE_DRIVER_OVER_VOLTAGE', 8: 'FAULT_CODE_GATE_DRIVER_UNDER_VOLTAGE', 9: 'FAULT_CODE_MCU_UNDER_VOLTAGE', 10: 'FAULT_CODE_BOOTING_FROM_WATCHDOG_RESET', 11: 'FAULT_CODE_ENCODER_SPI', 12: 'FAULT_CODE_ENCODER_SINCOS_BELOW_MIN_AMPLITUDE', 13: 'FAULT_CODE_ENCODER_SINCOS_ABOVE_MAX_AMPLITUDE', 14: 'FAULT_CODE_FLASH_CORRUPTION', 15: 'FAULT_CODE_HIGH_OFFSET_CURRENT_SENSOR_1', 16: 'FAULT_CODE_HIGH_OFFSET_CURRENT_SENSOR_2', 17: 'FAULT_CODE_HIGH_OFFSET_CURRENT_SENSOR_3', 18: 'FAULT_CODE_UNBALANCED_CURRENTS'}</em><a class="headerlink" href="#TMotorCANControl.servo_serial.ERROR_CODES" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary mapping error code numbers to the name of the error code</p>
</dd></dl>

<dl class="data">
<dt id="TMotorCANControl.servo_serial.PARAMETER_FLAGS">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">PARAMETER_FLAGS</code><em class="property"> = {'DUTY_CYCLE': 128, 'D_CURRENT': 32, 'INPUT_CURRENT': 16, 'INPUT_VOLTAGE': 512, 'MOSFET_TEMP': 1, 'MOTOR_ERROR_FLAG': 65536, 'MOTOR_ID': 262144, 'MOTOR_POSITION': 131072, 'MOTOR_SPEED': 256, 'MOTOR_TEMP': 4, 'OUTPUT_CURRENT': 8, 'Q_CURRENT': 64}</em><a class="headerlink" href="#TMotorCANControl.servo_serial.PARAMETER_FLAGS" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary of flags, where 1 means enable the desired parameter during feedback, and 0 means disable.</p>
</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.servo_serial.SERVO_SERIAL_CONTROL_STATE">
<em class="property">class </em><code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">SERVO_SERIAL_CONTROL_STATE</code><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#SERVO_SERIAL_CONTROL_STATE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.SERVO_SERIAL_CONTROL_STATE" title="Permalink to this definition">¶</a></dt>
<dd><p>An Enum to keep track of different control states</p>
</dd></dl>

<dl class="data">
<dt id="TMotorCANControl.servo_serial.Servo_Params_Serial">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">Servo_Params_Serial</code><em class="property"> = {'AK80-9': {'Curr_max': 15.0, 'Curr_min': -15.0, 'GEAR_RATIO': 9, 'Kt': 0.115, 'NUM_POLE_PAIRS': 21, 'P_max': 58.85, 'P_min': -58.85, 'Temp_max': 40.0, 'Type': 'AK80-9', 'V_max': 20.0, 'V_min': -20.0}}</em><a class="headerlink" href="#TMotorCANControl.servo_serial.Servo_Params_Serial" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary with the default parameters for the motors, indexed by their name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Type</strong> (<em>str</em>) – the name of this type of motor (ie, AK##-##)</li>
<li><strong>P_min</strong> (<em>float</em>) – Minimum position in radians</li>
<li><strong>P_max</strong> (<em>float</em>) – Maximum position in radians</li>
<li><strong>V_min</strong> (<em>float</em>) – Minimum speed command in velocity control in rad/s</li>
<li><strong>V_max</strong> (<em>float</em>) – Maximum speed command in velocity control in rad/s</li>
<li><strong>Curr_min</strong> (<em>float</em>) – Minimum current command during current control in A</li>
<li><strong>Curr_max</strong> (<em>float</em>) – Maximum current command during current control in A</li>
<li><strong>Temp_max</strong> (<em>float</em>) – Temperature above which motor should be turned off in Celsius</li>
<li><strong>Kt</strong> (<em>float</em>) – Torque constant of motor in Nm/A, before gearbox, q-axis</li>
<li><strong>GEAR_RATIO</strong> (<em>int</em>) – The gear ratio of the motor “n” as in n:1</li>
<li><strong>NUM_POLE_PAIRS</strong> (<em>int</em>) – Number of pole pairs in the motor</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial">
<em class="property">class </em><code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">TMotorManager_servo_serial</code><span class="sig-paren">(</span><em>port='/dev/ttyUSB0'</em>, <em>baud=961200</em>, <em>motor_params={'Curr_max': 15.0</em>, <em>'Curr_min': -15.0</em>, <em>'GEAR_RATIO': 9</em>, <em>'Kt': 0.115</em>, <em>'NUM_POLE_PAIRS': 21</em>, <em>'P_max': 58.85</em>, <em>'P_min': -58.85</em>, <em>'Temp_max': 40.0</em>, <em>'Type': 'AK80-9'</em>, <em>'V_max': 20.0</em>, <em>'V_min': -20.0}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial" title="Permalink to this definition">¶</a></dt>
<dd><p>The user-facing class that manages the motor. This class should be
used in the “context” of a with as block, in order to safely enter/exit
control of the motor.</p>
<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.__enter__">
<code class="descname">__enter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.__enter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.__enter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to safely power the motor on.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.__exit__">
<code class="descname">__exit__</code><span class="sig-paren">(</span><em>etype</em>, <em>value</em>, <em>tb</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.__exit__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.__exit__" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to safely power the motor off and close the reader thread and serial port.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>port='/dev/ttyUSB0'</em>, <em>baud=961200</em>, <em>motor_params={'Curr_max': 15.0</em>, <em>'Curr_min': -15.0</em>, <em>'GEAR_RATIO': 9</em>, <em>'Kt': 0.115</em>, <em>'NUM_POLE_PAIRS': 21</em>, <em>'P_max': 58.85</em>, <em>'P_min': -58.85</em>, <em>'Temp_max': 40.0</em>, <em>'Type': 'AK80-9'</em>, <em>'V_max': 20.0</em>, <em>'V_min': -20.0}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the motor manager. Note that this will not turn on the motor,
until __enter__ is called (automatically called in a with block)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>port</strong> – the name of the serial port to connect to (ie, /dev/ttyUSB0, COM3, etc)</li>
<li><strong>baud</strong> – the baud rate to use for connection. Should always be 961200 as far as I can tell.</li>
<li><strong>motor_params</strong> – A parameter dictionary defining the motor parameters, as defined above.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.__str__">
<code class="descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.__str__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the motor’s device info and current state</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial._send_specific_command">
<code class="descname">_send_specific_command</code><span class="sig-paren">(</span><em>command</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial._send_specific_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial._send_specific_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the specified command rather than the current value of &lt;this object&gt;._command</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>command</strong> – bytearray with the command to send.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.acceleration">
<code class="descname">acceleration</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.acceleration" title="Permalink to this definition">¶</a></dt>
<dd><p>Output acceleration in rad/s/s</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.acceleration_motorside">
<code class="descname">acceleration_motorside</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.acceleration_motorside" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor-side acceleration in rad/s/s</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.angle_motorside">
<code class="descname">angle_motorside</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.angle_motorside" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor-side angle in rad</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.check_connection">
<code class="descname">check_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.check_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.check_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>For now, just sends some parameter read commands and waits 0.2 seconds to
see if we got a response.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_begin_position_feedback">
<code class="descname">comm_begin_position_feedback</code><span class="sig-paren">(</span><em>set_command=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.comm_begin_position_feedback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_begin_position_feedback" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the motor to send back its current position every 10ms</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>set_command</strong> – set the TMotorManager’s current command to this if True</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The command as a bytearray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_get_motor_parameters">
<code class="descname">comm_get_motor_parameters</code><span class="sig-paren">(</span><em>set_command=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.comm_get_motor_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_get_motor_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Request the current motor parameters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>set_command</strong> – set the TMotorManager’s current command to this if True</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The command as a bytearray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_current_loop">
<code class="descname">comm_set_current_loop</code><span class="sig-paren">(</span><em>current</em>, <em>set_command=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.comm_set_current_loop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_current_loop" title="Permalink to this definition">¶</a></dt>
<dd><p>send am Iq current to motor, the motor output torque = Iq <a href="#id3"><span class="problematic" id="id4">*</span></a>KT, so it can
be used as a torque loop</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>current</strong> – q axis current to use in A, sign denotes direction</li>
<li><strong>set_command</strong> – set the TMotorManager’s current command to this if True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The command as a bytearray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_duty_cycle">
<code class="descname">comm_set_duty_cycle</code><span class="sig-paren">(</span><em>duty</em>, <em>set_command=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.comm_set_duty_cycle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_duty_cycle" title="Permalink to this definition">¶</a></dt>
<dd><p>send a certain duty cycle voltage to motor</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>duty</strong> – -1.0 to 1.0 duty cycle to use</li>
<li><strong>set_command</strong> – set the TMotorManager’s current command to this if True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The command as a bytearray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_motor_parameter_return_format_all">
<code class="descname">comm_set_motor_parameter_return_format_all</code><span class="sig-paren">(</span><em>set_command=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.comm_set_motor_parameter_return_format_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_motor_parameter_return_format_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the motor to send back all possible fields when an update is requested.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>set_command</strong> – set the TMotorManager’s current command to this if True</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The command as a bytearray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_multi_turn">
<code class="descname">comm_set_multi_turn</code><span class="sig-paren">(</span><em>set_command=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.comm_set_multi_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_multi_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the motor to operate in multi-turn mode, rather than being limited to
Just 360 degrees of position feedback.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>set_command</strong> – set the TMotorManager’s current command to this if True</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The command as a bytearray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_position">
<code class="descname">comm_set_position</code><span class="sig-paren">(</span><em>pos</em>, <em>set_command=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.comm_set_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_position" title="Permalink to this definition">¶</a></dt>
<dd><p>send a certain position to motor, the motor will run to the specified
position, (default speed 12000erpm acceleration 40000erpm)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pos</strong> – Desired position in degrees</li>
<li><strong>set_command</strong> – set the TMotorManager’s current command to this if True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The command as a bytearray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_position_velocity">
<code class="descname">comm_set_position_velocity</code><span class="sig-paren">(</span><em>pos</em>, <em>vel</em>, <em>acc</em>, <em>set_command=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.comm_set_position_velocity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_position_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>send a certain position, speed and acceleration to motor.
The motor will run at a given acceleration and maximum speed to a specified
position.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pos</strong> – Desired position in degrees</li>
<li><strong>vel</strong> – Desired speed in ERPM</li>
<li><strong>acc</strong> – Desired acceleration in ERPM/minute? TODO verify this</li>
<li><strong>set_command</strong> – set the TMotorManager’s current command to this if True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The command as a bytearray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_speed_ERPM">
<code class="descname">comm_set_speed_ERPM</code><span class="sig-paren">(</span><em>speed</em>, <em>set_command=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.comm_set_speed_ERPM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.comm_set_speed_ERPM" title="Permalink to this definition">¶</a></dt>
<dd><p>send a certain motion speed to motor</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>speed</strong> – speed to use in ERPM, sign denotes direction</li>
<li><strong>set_command</strong> – set the TMotorManager’s current command to this if True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The command as a bytearray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.current_bus">
<code class="descname">current_bus</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.current_bus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bus input current in amps</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.current_daxis">
<code class="descname">current_daxis</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.current_daxis" title="Permalink to this definition">¶</a></dt>
<dd><p>D-axis current in amps</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.current_qaxis">
<code class="descname">current_qaxis</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.current_qaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Q-axis current in amps</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.device_info_string">
<code class="descname">device_info_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.device_info_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.device_info_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the motor’s serial port and device type.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.enter_current_control">
<code class="descname">enter_current_control</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.enter_current_control"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.enter_current_control" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the control state to CURENT_LOOP
In this mode, you can send an Iq current to motor, the motor output torque = Iq <a href="#id5"><span class="problematic" id="id6">*</span></a>KT, so it can
be used as a torque loop</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.enter_duty_cycle_control">
<code class="descname">enter_duty_cycle_control</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.enter_duty_cycle_control"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.enter_duty_cycle_control" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the control state to DUTY_CYCLE
In this mode, you can send a certain duty cycle voltage to motor</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.enter_idle_mode">
<code class="descname">enter_idle_mode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.enter_idle_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.enter_idle_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the control state to IDLE and current command to none.
In this mode, no command will be sent.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.enter_position_control">
<code class="descname">enter_position_control</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.enter_position_control"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.enter_position_control" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the control state to POSITION
In this mode, you can send a certain position to motor, the motor will run to the specified
position, (default speed 12000erpm acceleration 40000erpm)</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.enter_position_velocity_control">
<code class="descname">enter_position_velocity_control</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.enter_position_velocity_control"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.enter_position_velocity_control" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the control state to POSITION_VELOCITY
In this mode, you can send a certain position, speed and acceleration to motor.
The motor will run at a given acceleration and maximum speed to a specified
position.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.enter_velocity_control">
<code class="descname">enter_velocity_control</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.enter_velocity_control"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.enter_velocity_control" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the control state to VELOCITY
In this mode, you can send a certain motion speed to motor</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.error">
<code class="descname">error</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.error" title="Permalink to this definition">¶</a></dt>
<dd><p>‘FAULT_CODE_NONE’
1  : ‘FAULT_CODE_OVER_VOLTAGE’
2  : ‘FAULT_CODE_UNDER_VOLTAGE’
3  : ‘FAULT_CODE_DRIVE’
4  : ‘FAULT_CODE_ABS_OVER_CURRENT’
5  : ‘FAULT_CODE_OVER_TEMP_FET’
6  : ‘FAULT_CODE_OVER_TEMP_MOTOR’
7  : ‘FAULT_CODE_GATE_DRIVER_OVER_VOLTAGE’
8  : ‘FAULT_CODE_GATE_DRIVER_UNDER_VOLTAGE’
9  : ‘FAULT_CODE_MCU_UNDER_VOLTAGE’
10 : ‘FAULT_CODE_BOOTING_FROM_WATCHDOG_RESET’
11 : ‘FAULT_CODE_ENCODER_SPI’
12 : ‘FAULT_CODE_ENCODER_SINCOS_BELOW_MIN_AMPLITUDE’
13 : ‘FAULT_CODE_ENCODER_SINCOS_ABOVE_MAX_AMPLITUDE’
14 : ‘FAULT_CODE_FLASH_CORRUPTION’
15 : ‘FAULT_CODE_HIGH_OFFSET_CURRENT_SENSOR_1’
16 : ‘FAULT_CODE_HIGH_OFFSET_CURRENT_SENSOR_2’
17 : ‘FAULT_CODE_HIGH_OFFSET_CURRENT_SENSOR_3’
18 : ‘FAULT_CODE_UNBALANCED_CURRENTS’</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Error Codes</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">0</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_current_bus_amps">
<code class="descname">get_current_bus_amps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_current_bus_amps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_current_bus_amps" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated qaxis current in amps</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_current_daxis_amps">
<code class="descname">get_current_daxis_amps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_current_daxis_amps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_current_daxis_amps" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated qaxis current in amps</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_current_qaxis_amps">
<code class="descname">get_current_qaxis_amps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_current_qaxis_amps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_current_qaxis_amps" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated qaxis current in amps</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_motor_acceleration_radians_per_second_squared">
<code class="descname">get_motor_acceleration_radians_per_second_squared</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_motor_acceleration_radians_per_second_squared"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_motor_acceleration_radians_per_second_squared" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for get_output_acceleration that accounts for gear ratio to get motor-side acceleration</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated motor-side acceleration in rad/s/s.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_motor_angle_radians">
<code class="descname">get_motor_angle_radians</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_motor_angle_radians"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_motor_angle_radians" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for get_output_angle that accounts for gear ratio to get motor-side angle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated motor-side angle in rad.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_motor_error_code">
<code class="descname">get_motor_error_code</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_motor_error_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_motor_error_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated motor error code.
Note the program should throw a runtime error before you get a chance to read
this value if it is ever anything besides 0.</p>
<dl class="docutils">
<dt>Codes:</dt>
<dd>0  : ‘FAULT_CODE_NONE’
1  : ‘FAULT_CODE_OVER_VOLTAGE’
2  : ‘FAULT_CODE_UNDER_VOLTAGE’
3  : ‘FAULT_CODE_DRIVE’
4  : ‘FAULT_CODE_ABS_OVER_CURRENT’
5  : ‘FAULT_CODE_OVER_TEMP_FET’
6  : ‘FAULT_CODE_OVER_TEMP_MOTOR’
7  : ‘FAULT_CODE_GATE_DRIVER_OVER_VOLTAGE’
8  : ‘FAULT_CODE_GATE_DRIVER_UNDER_VOLTAGE’
9  : ‘FAULT_CODE_MCU_UNDER_VOLTAGE’
10 : ‘FAULT_CODE_BOOTING_FROM_WATCHDOG_RESET’
11 : ‘FAULT_CODE_ENCODER_SPI’
12 : ‘FAULT_CODE_ENCODER_SINCOS_BELOW_MIN_AMPLITUDE’
13 : ‘FAULT_CODE_ENCODER_SINCOS_ABOVE_MAX_AMPLITUDE’
14 : ‘FAULT_CODE_FLASH_CORRUPTION’
15 : ‘FAULT_CODE_HIGH_OFFSET_CURRENT_SENSOR_1’
16 : ‘FAULT_CODE_HIGH_OFFSET_CURRENT_SENSOR_2’
17 : ‘FAULT_CODE_HIGH_OFFSET_CURRENT_SENSOR_3’
18 : ‘FAULT_CODE_UNBALANCED_CURRENTS’</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_motor_torque_newton_meters">
<code class="descname">get_motor_torque_newton_meters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_motor_torque_newton_meters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_motor_torque_newton_meters" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for get_output_torque that accounts for gear ratio to get motor-side torque</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated motor-side torque in Nm.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_motor_velocity_radians_per_second">
<code class="descname">get_motor_velocity_radians_per_second</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_motor_velocity_radians_per_second"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_motor_velocity_radians_per_second" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for get_output_velocity that accounts for gear ratio to get motor-side velocity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated motor-side velocity in rad/s.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_output_acceleration_radians_per_second_squared">
<code class="descname">get_output_acceleration_radians_per_second_squared</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_output_acceleration_radians_per_second_squared"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_output_acceleration_radians_per_second_squared" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated output acceleration in radians per second per second</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_output_angle_radians">
<code class="descname">get_output_angle_radians</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_output_angle_radians"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_output_angle_radians" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated output angle in radians</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_output_torque_newton_meters">
<code class="descname">get_output_torque_newton_meters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_output_torque_newton_meters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_output_torque_newton_meters" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the most recently updated output torque in Nm</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_output_velocity_radians_per_second">
<code class="descname">get_output_velocity_radians_per_second</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_output_velocity_radians_per_second"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_output_velocity_radians_per_second" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The most recently updated output velocity in radians per second</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_temperature_celsius">
<code class="descname">get_temperature_celsius</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_temperature_celsius"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_temperature_celsius" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated motor temperature in degrees C.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_voltage_bus_volts">
<code class="descname">get_voltage_bus_volts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_voltage_bus_volts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_voltage_bus_volts" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated input voltage in volts</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_voltage_daxis_volts">
<code class="descname">get_voltage_daxis_volts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_voltage_daxis_volts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_voltage_daxis_volts" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated daxis voltage in volts</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_voltage_qaxis_volts">
<code class="descname">get_voltage_qaxis_volts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.get_voltage_qaxis_volts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.get_voltage_qaxis_volts" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
The most recently updated qaxis voltage in volts</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.parse_motor_parameters_async">
<code class="descname">parse_motor_parameters_async</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.parse_motor_parameters_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.parse_motor_parameters_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Update this motor’s asynch state (except position) based on received data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – The data array to parse the parameters from</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.parse_position_feedback_async">
<code class="descname">parse_position_feedback_async</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.parse_position_feedback_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.parse_position_feedback_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Update this motor’s asynch position based on recieved data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – The data array to parse the position from.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.parse_set_position_feedback_async">
<code class="descname">parse_set_position_feedback_async</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.parse_set_position_feedback_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.parse_set_position_feedback_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Update this motor’s asynch position based on recieved data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – The data array to parse the position from.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.position">
<code class="descname">position</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.position" title="Permalink to this definition">¶</a></dt>
<dd><p>Output angle in rad</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.power_off">
<code class="descname">power_off</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.power_off"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.power_off" title="Permalink to this definition">¶</a></dt>
<dd><p>There is no official power off command that I can see, so this will
set the duty cycle to 0.0</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.power_on">
<code class="descname">power_on</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.power_on"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.power_on" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the startup sequence command. Not sure why it’s like this, but the
command is [0x40, 0x80, 0x20, 0x02, 0x21, 0xc0]</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.send_command">
<code class="descname">send_command</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.send_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.send_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the current command that the user has specified.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_duty_cycle_percent">
<code class="descname">set_duty_cycle_percent</code><span class="sig-paren">(</span><em>duty</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.set_duty_cycle_percent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_duty_cycle_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the current command to the desired duty cycle.
Note, this does not send a command, it updates the TMotorManager’s saved command,
which will be sent when update() is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>duty</strong> – The desired duty cycle -1.0 to 1.0</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_motor_angle_radians">
<code class="descname">set_motor_angle_radians</code><span class="sig-paren">(</span><em>pos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.set_motor_angle_radians"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_motor_angle_radians" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for set_output_angle that accounts for gear ratio to control motor-side angle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pos</strong> – The desired motor-side position in rad.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_motor_current_qaxis_amps">
<code class="descname">set_motor_current_qaxis_amps</code><span class="sig-paren">(</span><em>curr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.set_motor_current_qaxis_amps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_motor_current_qaxis_amps" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the current command to the desired current.
Note, this does not send a command, it updates the TMotorManager’s saved command,
which will be sent when update() is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>curr</strong> – The desired q-axis current in A</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_motor_torque_newton_meters">
<code class="descname">set_motor_torque_newton_meters</code><span class="sig-paren">(</span><em>torque</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.set_motor_torque_newton_meters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_motor_torque_newton_meters" title="Permalink to this definition">¶</a></dt>
<dd><p>Version of set_output_torque that accounts for gear ratio to control motor-side torque</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>torque</strong> – The desired motor-side torque in Nm.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_motor_velocity_radians_per_second">
<code class="descname">set_motor_velocity_radians_per_second</code><span class="sig-paren">(</span><em>vel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.set_motor_velocity_radians_per_second"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_motor_velocity_radians_per_second" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for set_output_velocity that accounts for gear ratio to control motor-side velocity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vel</strong> – The desired motor-side velocity in rad/s.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_output_angle_radians">
<code class="descname">set_output_angle_radians</code><span class="sig-paren">(</span><em>pos</em>, <em>vel=1000</em>, <em>acc=500</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.set_output_angle_radians"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_output_angle_radians" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the current command to the desired position.
Note, this does not send a command, it updates the TMotorManager’s saved command,
which will be sent when update() is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pos</strong> – The desired output angle in rad</li>
<li><strong>vel</strong> – The desired speed to get there (when in POSITION_VELOCITY mode)</li>
<li><strong>acc</strong> – The desired acceleration to get there (when in POSITION_VELOCITY mode)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_output_torque_newton_meters">
<code class="descname">set_output_torque_newton_meters</code><span class="sig-paren">(</span><em>torque</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.set_output_torque_newton_meters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_output_torque_newton_meters" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the current command to the desired current, based on the requested torque.
Note, this does not send a command, it updates the TMotorManager’s saved command,
which will be sent when update() is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>torque</strong> – The desired output torque in Nm.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_output_velocity_radians_per_second">
<code class="descname">set_output_velocity_radians_per_second</code><span class="sig-paren">(</span><em>vel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.set_output_velocity_radians_per_second"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_output_velocity_radians_per_second" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the current command to the desired velocity.
Note, this does not send a command, it updates the TMotorManager’s saved command,
which will be sent when update() is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vel</strong> – The desired output speed in rad/s</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_zero_position">
<code class="descname">set_zero_position</code><span class="sig-paren">(</span><em>set_command=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.set_zero_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.set_zero_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the current position of the motor to be the new zero position.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>set_command</strong> – set the TMotorManager’s current command to this if True</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The command as a bytearray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.temperature">
<code class="descname">temperature</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>Temperature in Degrees Celsius</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.torque">
<code class="descname">torque</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.torque" title="Permalink to this definition">¶</a></dt>
<dd><p>Output torque in Nm</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.torque_motorside">
<code class="descname">torque_motorside</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.torque_motorside" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor-side torque in Nm</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronizes the current motor state with the asynchronously updated state.
Sends the current motor command
Sends the command to get parameter feedback</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code> – if this method is called before the motor is entered.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.update_async">
<code class="descname">update_async</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#TMotorManager_servo_serial.update_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.update_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the asynchronous motor state. Called by a reader thread.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – An array of N bytes of data to parse, [packet id, data_1, …, data_N]</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code> – If the packet recieved contains an error code.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.velocity">
<code class="descname">velocity</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Output velocity in rad/s</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.velocity_motorside">
<code class="descname">velocity_motorside</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.velocity_motorside" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor-side velocity in rad/s</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.voltage_bus">
<code class="descname">voltage_bus</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.voltage_bus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bus input voltage in volts</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.voltage_daxis">
<code class="descname">voltage_daxis</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.voltage_daxis" title="Permalink to this definition">¶</a></dt>
<dd><p>D-axis voltage in volts</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.TMotorManager_servo_serial.voltage_qaxis">
<code class="descname">voltage_qaxis</code><a class="headerlink" href="#TMotorCANControl.servo_serial.TMotorManager_servo_serial.voltage_qaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Q-axis voltage in volts</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="TMotorCANControl.servo_serial.buffer_append_int16">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">buffer_append_int16</code><span class="sig-paren">(</span><em>buffer</em>, <em>number</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#buffer_append_int16"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.buffer_append_int16" title="Permalink to this definition">¶</a></dt>
<dd><p>split a 16 bit signed integer into 2 bytes and append to buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Buffer</strong> – memory allocated to store data.</li>
<li><strong>number</strong> – value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TMotorCANControl.servo_serial.buffer_append_int32">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">buffer_append_int32</code><span class="sig-paren">(</span><em>buffer</em>, <em>number</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#buffer_append_int32"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.buffer_append_int32" title="Permalink to this definition">¶</a></dt>
<dd><p>split a 32 bit signed integer into 4 bytes and append to buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Buffer</strong> – memory allocated to store data.</li>
<li><strong>number</strong> – value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TMotorCANControl.servo_serial.buffer_append_int64">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">buffer_append_int64</code><span class="sig-paren">(</span><em>buffer</em>, <em>number</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#buffer_append_int64"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.buffer_append_int64" title="Permalink to this definition">¶</a></dt>
<dd><p>split a 64 bit signed integer into 8 bytes and append to buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Buffer</strong> – memory allocated to store data.</li>
<li><strong>number</strong> – value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TMotorCANControl.servo_serial.buffer_append_uint16">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">buffer_append_uint16</code><span class="sig-paren">(</span><em>buffer</em>, <em>number</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#buffer_append_uint16"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.buffer_append_uint16" title="Permalink to this definition">¶</a></dt>
<dd><p>split a 16 bit unsigned integer into 2 bytes and append to buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Buffer</strong> – memory allocated to store data.</li>
<li><strong>number</strong> – value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TMotorCANControl.servo_serial.buffer_append_uint32">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">buffer_append_uint32</code><span class="sig-paren">(</span><em>buffer</em>, <em>number</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#buffer_append_uint32"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.buffer_append_uint32" title="Permalink to this definition">¶</a></dt>
<dd><p>split a 32 bit unsigned integer into 4 bytes and append to buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Buffer</strong> – memory allocated to store data.</li>
<li><strong>number</strong> – value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TMotorCANControl.servo_serial.buffer_append_uint64">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">buffer_append_uint64</code><span class="sig-paren">(</span><em>buffer</em>, <em>number</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#buffer_append_uint64"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.buffer_append_uint64" title="Permalink to this definition">¶</a></dt>
<dd><p>split a 64 bit unsigned integer into 8 bytes and append to buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Buffer</strong> – memory allocated to store data.</li>
<li><strong>number</strong> – value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TMotorCANControl.servo_serial.buffer_get_int16">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">buffer_get_int16</code><span class="sig-paren">(</span><em>buffer</em>, <em>ind</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#buffer_get_int16"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.buffer_get_int16" title="Permalink to this definition">¶</a></dt>
<dd><p>Grab the 16 bit integer at data[ind:ind+1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>buffer</strong> – array with bytes of data</li>
<li><strong>ind</strong> – location to index</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ind+1]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">16 bit integer at data[ind</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TMotorCANControl.servo_serial.buffer_get_int32">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">buffer_get_int32</code><span class="sig-paren">(</span><em>buffer</em>, <em>ind</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#buffer_get_int32"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.buffer_get_int32" title="Permalink to this definition">¶</a></dt>
<dd><p>Grab the 32 bit integer at data[ind:ind+3]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>buffer</strong> – array with bytes of data</li>
<li><strong>ind</strong> – location to index</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ind+3]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">32-bit signed integer at data[ind</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TMotorCANControl.servo_serial.buffer_get_int8">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">buffer_get_int8</code><span class="sig-paren">(</span><em>buffer</em>, <em>ind</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#buffer_get_int8"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.buffer_get_int8" title="Permalink to this definition">¶</a></dt>
<dd><p>Grab the 8 bit integer at data[ind]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>buffer</strong> – array with bytes of data</li>
<li><strong>ind</strong> – location to index</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">8 bit integer at data[ind]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="TMotorCANControl.servo_serial.crc16">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">crc16</code><span class="sig-paren">(</span><em>data</em>, <em>DL</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#crc16"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.crc16" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the crc16 value for the given data array and data length.
This is just translated to python from the C code in the manual on the cubmars website.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – array of data to creat checksum value for</li>
<li><strong>DL</strong> – data length</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">16-bit integer checksum.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="TMotorCANControl.servo_serial.crc16_tab">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">crc16_tab</code><em class="property"> = [0, 4129, 8258, 12387, 16516, 20645, 24774, 28903, 33032, 37161, 41290, 45419, 49548, 53677, 57806, 61935, 4657, 528, 12915, 8786, 21173, 17044, 29431, 25302, 37689, 33560, 45947, 41818, 54205, 50076, 62463, 58334, 9314, 13379, 1056, 5121, 25830, 29895, 17572, 21637, 42346, 46411, 34088, 38153, 58862, 62927, 50604, 54669, 13907, 9842, 5649, 1584, 30423, 26358, 22165, 18100, 46939, 42874, 38681, 34616, 63455, 59390, 55197, 51132, 18628, 22757, 26758, 30887, 2112, 6241, 10242, 14371, 51660, 55789, 59790, 63919, 35144, 39273, 43274, 47403, 23285, 19156, 31415, 27286, 6769, 2640, 14899, 10770, 56317, 52188, 64447, 60318, 39801, 35672, 47931, 43802, 27814, 31879, 19684, 23749, 11298, 15363, 3168, 7233, 60846, 64911, 52716, 56781, 44330, 48395, 36200, 40265, 32407, 28342, 24277, 20212, 15891, 11826, 7761, 3696, 65439, 61374, 57309, 53244, 48923, 44858, 40793, 36728, 37256, 33193, 45514, 41451, 53516, 49453, 61774, 57711, 4224, 161, 12482, 8419, 20484, 16421, 28742, 24679, 33721, 37784, 41979, 46042, 49981, 54044, 58239, 62302, 689, 4752, 8947, 13010, 16949, 21012, 25207, 29270, 46570, 42443, 38312, 34185, 62830, 58703, 54572, 50445, 13538, 9411, 5280, 1153, 29798, 25671, 21540, 17413, 42971, 47098, 34713, 38840, 59231, 63358, 50973, 55100, 9939, 14066, 1681, 5808, 26199, 30326, 17941, 22068, 55628, 51565, 63758, 59695, 39368, 35305, 47498, 43435, 22596, 18533, 30726, 26663, 6336, 2273, 14466, 10403, 52093, 56156, 60223, 64286, 35833, 39896, 43963, 48026, 19061, 23124, 27191, 31254, 2801, 6864, 10931, 14994, 64814, 60687, 56684, 52557, 48554, 44427, 40424, 36297, 31782, 27655, 23652, 19525, 15522, 11395, 7392, 3265, 61215, 65342, 53085, 57212, 44955, 49082, 36825, 40952, 28183, 32310, 20053, 24180, 11923, 16050, 3793, 7920]</em><a class="headerlink" href="#TMotorCANControl.servo_serial.crc16_tab" title="Permalink to this definition">¶</a></dt>
<dd><p>CRC 16 table as given in the manual, to be used to verify the packets recived</p>
</dd></dl>

<dl class="function">
<dt id="TMotorCANControl.servo_serial.create_packet">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">create_packet</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#create_packet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.create_packet" title="Permalink to this definition">¶</a></dt>
<dd><p>Packages the data into a packet to be sent.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – array of N+1 bytes of data, [packet id, data_1, …, data_N]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">array in the format, [0x02, data length, packet id, data_1, …, data_N, crc_1, crc_2, 0x03]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">packet</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.servo_serial.motor_listener">
<em class="property">class </em><code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">motor_listener</code><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#motor_listener"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.motor_listener" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the pyserial “Protocol” class to handle messages asynchronously
TODO when pyserial implmements asyncio support, switch to that</p>
<dl class="method">
<dt id="TMotorCANControl.servo_serial.motor_listener.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#motor_listener.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.motor_listener.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the class, including the state machine variables and a reference
to the motor manager in the main thread that this class will update.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.motor_listener.connection_lost">
<code class="descname">connection_lost</code><span class="sig-paren">(</span><em>transport</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#motor_listener.connection_lost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.motor_listener.connection_lost" title="Permalink to this definition">¶</a></dt>
<dd><p>Could add other things to happen here on connection termination.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>transport</strong> – the connection</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.motor_listener.connection_made">
<code class="descname">connection_made</code><span class="sig-paren">(</span><em>transport</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#motor_listener.connection_made"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.motor_listener.connection_made" title="Permalink to this definition">¶</a></dt>
<dd><p>Could add other things to happen here on connection initialization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>transport</strong> – the connection</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.motor_listener.data_received">
<code class="descname">data_received</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#motor_listener.data_received"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.motor_listener.data_received" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle data that’s been recieved, by stepping through a state machine one byte at a time.
States:</p>
<blockquote>
<div>0: expecting 0x02 for beginning of next message
1: expecting data length field
2: will keep reading data until DL + 2
3: expecting 0x03 for ending of this message</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – array of received data to parse</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.motor_listener.handle_packet">
<code class="descname">handle_packet</code><span class="sig-paren">(</span><em>packet</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#motor_listener.handle_packet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.motor_listener.handle_packet" title="Permalink to this definition">¶</a></dt>
<dd><p>Called whenever the state machine finishes reading a packet,
to update motor manager object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>packet</strong> – array of data to parse.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="TMotorCANControl.servo_serial.parse_packet">
<code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">parse_packet</code><span class="sig-paren">(</span><em>packet</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#parse_packet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.parse_packet" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the packet makes sense, and get the data out of it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>packet</strong> – array in the format [0x02, data length, packet id, data_1, …, data_N, crc_1, crc_2, 0x03]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Just the packet id and actual data from the recieved packet, [packet id, data_1, …, data_N]
None: returns None if the packet failed to successfully parse</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">data</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="TMotorCANControl.servo_serial.servo_serial_motor_state">
<em class="property">class </em><code class="descclassname">TMotorCANControl.servo_serial.</code><code class="descname">servo_serial_motor_state</code><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#servo_serial_motor_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.servo_serial_motor_state" title="Permalink to this definition">¶</a></dt>
<dd><p>An object representing the state of the motor</p>
<dl class="method">
<dt id="TMotorCANControl.servo_serial.servo_serial_motor_state.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#servo_serial_motor_state.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.servo_serial_motor_state.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the motor state to zero.</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.servo_serial_motor_state.__str__">
<code class="descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#servo_serial_motor_state.__str__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.servo_serial_motor_state.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>String showing each of the fields in the motor state.</p>
</dd></dl>

<dl class="attribute">
<dt id="TMotorCANControl.servo_serial.servo_serial_motor_state.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#TMotorCANControl.servo_serial.servo_serial_motor_state.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="TMotorCANControl.servo_serial.servo_serial_motor_state.set_state">
<code class="descname">set_state</code><span class="sig-paren">(</span><em>mos_temperature=None</em>, <em>motor_temperature=None</em>, <em>output_current=None</em>, <em>input_current=None</em>, <em>id_current=None</em>, <em>iq_current=None</em>, <em>duty=None</em>, <em>speed=None</em>, <em>input_voltage=None</em>, <em>position_set=None</em>, <em>controlID=None</em>, <em>Vd=None</em>, <em>Vq=None</em>, <em>error=None</em>, <em>acceleration=None</em>, <em>position=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TMotorCANControl/servo_serial.html#servo_serial_motor_state.set_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TMotorCANControl.servo_serial.servo_serial_motor_state.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the motor state based on input to the function. If any field is not specified,
then that field will not be altered.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="src" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Mitry Anderson, Vamsi Peddinti.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>